<div class="table">
  <app-filter *ngIf="!hideControls" (onFilter)="onFilter($event)"></app-filter>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z3">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Nome</th>
      <td mat-cell *matCellDef="let student">{{ student.name }}</td>
    </ng-container>
    <ng-container matColumnDef="class">
      <th mat-header-cell *matHeaderCellDef>Classe</th>
      <td mat-cell *matCellDef="let student">{{ student.class.name }}</td>
    </ng-container>
    <ng-container matColumnDef="degree">
      <th mat-header-cell *matHeaderCellDef>Grau</th>
      <td mat-cell *matCellDef="let student">{{ student.degree.name }}</td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef style="width: 15%; text-align: center">Ações</th>
      <td mat-cell *matCellDef="let student" style="text-align: center; display: flex; flex-direction: row">
        <button *ngIf="!hideControls" mat-icon-button (click)="openEditDialog(student)" color="primary" style="flex: 1">
          <mat-icon class="icon-button">edit</mat-icon>
        </button>
        <button mat-icon-button (click)="removeStudent(student)" color="warn" style="flex: 1">
          <mat-icon class="icon-button">delete</mat-icon>
        </button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let rowData; columns: displayedColumns"></tr>
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">Nenhum item encontrado</td>
    </tr>
  </table>
  <mat-paginator showFirstLastButtons hidePageSize [pageSize]="hideControls ? 5 : 7"></mat-paginator>
  <div *ngIf="!hideControls" class="buttons-footer">
    <div style="width: 80%; display: flex; justify-content: flex-start">
      <button mat-raised-button (click)="generateRandomStudents()" color="accent">
        <mat-icon>add</mat-icon> Alunos aleatórios
      </button>
      <button mat-raised-button (click)="openChartModal()">
        <mat-icon>bar_chart</mat-icon> Gráfico Alunos x Classe
      </button>
    </div>
    <button mat-raised-button color="primary" (click)="saveStudents()"><mat-icon>download</mat-icon> Salvar</button>
    <button mat-raised-button (click)="reset()">Resetar</button>
  </div>
</div>
